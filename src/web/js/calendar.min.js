(()=>{var e,t={285:()=>{document.addEventListener("DOMContentLoaded",(function(){var e=Math.floor;function t(){this.id=null,this.calendarId=null,this.title=null,this.body=null,this.isAllday=!1,this.start=null,this.end=null,this.category="",this.dueDateClass="",this.color=null,this.bgColor=null,this.dragBgColor=null,this.borderColor=null,this.customStyle="",this.isFocused=!1,this.isPending=!1,this.isVisible=!0,this.isReadOnly=!1,this.isPrivate=!1,this.goingDuration=0,this.comingDuration=0,this.recurrenceRule="",this.state="",this.raw={memo:"",hasToOrCc:!1,hasRecurrenceRule:!1,creator:{name:"",avatar:"",company:"",email:"",phone:""}}}function o(t,o,r){var n,a=moment(o.getTime()),l=moment(r.getTime()),c=l.diff(a,"days");5<e(10*Math.random())?(t.isAllday=!0,n=1):(t.isAllday=!1,n=0),t.isAllday?t.category="allday":8<e(10*Math.random())?(t.category=O[n],t.category===O[1]&&(t.dueDateClass="morning")):t.category="time",a.add(e(Math.random()*c),"days"),a.hours(e(23*Math.random())),a.minutes(0===n?0:30),t.start=a.toDate(),l=moment(a),t.isAllday&&l.add(1,"days"),t.end=l.add(1,"hour").toDate(),!t.isAllday&&8<e(10*Math.random())&&(t.goingDuration=e(90*Math.random())+30,t.comingDuration=e(90*Math.random())+30,9<=e(10*Math.random())&&(t.end=t.start))}function r(e,r,n){var a=new t;a.id=1,a.calendarId=e.id,a.title="title",a.body="body of event",a.isReadOnly=!1,o(a,r,n),a.isPrivate=!1,a.attendees=[],a.recurrenceRule="",a.state="Free",a.color=e.color,a.bgColor=e.bgColor,a.dragBgColor=e.dragBgColor,a.borderColor=e.borderColor,"milestone"===a.category&&(a.color=a.bgColor,a.bgColor="transparent",a.dragBgColor="transparent",a.borderColor="transparent"),a.raw.memo="memo",a.raw.creator.name="creator name",a.raw.creator.avatar="",a.raw.creator.company="company",a.raw.creator.email="email",a.raw.creator.phone="phone",M.push(a)}function n(){this.id=null,this.name=null,this.checked=!0,this.color=null,this.bgColor=null,this.borderColor=null,this.dragBgColor=null}function a(e){var t;return S.forEach((function(o){o.id===e&&(t=o)})),t||S[0]}function l(e,t){var o=[],r=moment(e.start.toUTCString());return t||o.push("<strong>"+r.format("HH:mm")+"</strong> "),e.isPrivate?(o.push('<span class="calendar-font-icon ic-lock-b"></span>'),o.push(" Private")):(e.isReadOnly?o.push('<span class="calendar-font-icon ic-readonly-b"></span>'):e.recurrenceRule?o.push('<span class="calendar-font-icon ic-repeat-b"></span>'):e.attendees.length&&o.push('<span class="calendar-font-icon ic-user-b"></span>'),o.push(" "+e.title)),o.join("")}function c(e){var t=e.target.closest('a[role="menuitem"]')[0],o=k(t),r=w.getOptions(),n="";switch(console.log(t),console.log(o),o){case"toggle-daily":n="day";break;case"toggle-weekly":n="week";break;case"toggle-monthly":r.month.visibleWeeksCount=0,n="month";break;case"toggle-weeks2":r.month.visibleWeeksCount=2,n="month";break;case"toggle-weeks3":r.month.visibleWeeksCount=3,n="month";break;case"toggle-narrow-weekend":r.month.narrowWeekend=!r.month.narrowWeekend,r.week.narrowWeekend=!r.week.narrowWeekend,n=w.getViewName(),t.querySelector("input").checked=r.month.narrowWeekend;break;case"toggle-start-day-1":r.month.startDayOfWeek=r.month.startDayOfWeek?0:1,r.week.startDayOfWeek=r.week.startDayOfWeek?0:1,n=w.getViewName(),t.querySelector("input").checked=r.month.startDayOfWeek;break;case"toggle-workweek":r.month.workweek=!r.month.workweek,r.week.workweek=!r.week.workweek,n=w.getViewName(),t.querySelector("input").checked=!r.month.workweek}w.setOptions(r,!0),w.changeView(n,!0),f(),y(),b()}function i(e){switch(k(e.target)){case"move-prev":w.prev();break;case"move-next":w.next();break;case"move-today":w.today();break;default:return}y(),b()}function d(){var t=document.getElementById("new-schedule-title").value,o=document.getElementById("new-schedule-allday").checked,r=C.getStartDate(),n=C.getEndDate(),a=D||S[0];t&&(w.createSchedules([{id:e(1e6*Math.random())+"",calendarId:a.id,title:t,isAllDay:o,start:r,end:n,category:o?"allday":"time",dueDateClass:"",color:a.color,bgColor:a.bgColor,dragBgColor:a.bgColor,borderColor:a.borderColor,state:"Busy"}]),$("#modal-new-schedule").modal("hide"))}function s(e){!function(e){var t=document.getElementById("calendarName"),o=a(e),r=[];r.push('<span class="calendar-bar" style="background-color: '+o.bgColor+"; border-color:"+o.borderColor+';"></span>'),r.push('<span class="calendar-name">'+o.name+"</span>"),t.innerHTML=r.join(""),D=o}(k(e.target.closest('a[role="menuitem"]')[0]))}function u(e){var t=e.start?new Date(e.start.getTime()):new Date,o=e.end?new Date(e.end.getTime()):moment().add(1,"hours").toDate();w.openCreationPopup({start:t,end:o})}function h(t){var o=t.calendar||a(t.calendarId),r={id:e(1e6*Math.random())+"",title:t.title,isAllDay:t.isAllDay,start:t.start,end:t.end,category:t.isAllDay?"allday":"time",dueDateClass:"",color:o.color,bgColor:o.bgColor,dragBgColor:o.bgColor,borderColor:o.borderColor,isPrivate:t.isPrivate,state:t.state};o&&(r.calendarId=o.id,r.color=o.color,r.bgColor=o.bgColor,r.borderColor=o.borderColor),w.createSchedules([r]),m()}function g(e){var t=e.target.value,o=e.target.checked,r=document.querySelector(".lnb-calendars-item input"),n=Array.prototype.slice.call(document.querySelectorAll("#calendarList input")),l=!0;"all"===t?(l=o,n.forEach((function(e){var t=e.parentNode;e.checked=o,t.style.backgroundColor=o?t.style.borderColor:"transparent"})),S.forEach((function(e){e.checked=o}))):(a(t).checked=o,l=n.every((function(e){return e.checked})),r.checked=!!l),m()}function m(){var e=Array.prototype.slice.call(document.querySelectorAll("#calendarList input"));S.forEach((function(e){w.toggleSchedules(e.id,!e.checked,!1)})),w.render(!0),e.forEach((function(e){var t=e.nextElementSibling;t.style.backgroundColor=e.checked?t.style.borderColor:"transparent"}))}function f(){var e,t=document.getElementById("calendarTypeName"),o=document.getElementById("calendarTypeIcon"),r=w.getOptions(),n=w.getViewName();"day"===n?(n="Daily",e="calendar-icon ic_view_day"):"week"===n?(n="Weekly",e="calendar-icon ic_view_week"):2===r.month.visibleWeeksCount?(n="2 weeks",e="calendar-icon ic_view_week"):3===r.month.visibleWeeksCount?(n="3 weeks",e="calendar-icon ic_view_week"):(n="Monthly",e="calendar-icon ic_view_month"),t.innerHTML=n,o.className=e}function p(e){return moment([w.getDate().getFullYear(),w.getDate().getMonth(),w.getDate().getDate()]).format(e)}function y(){var e=document.getElementById("renderRange"),t=w.getOptions(),o=w.getViewName(),r=[];"day"===o?r.push(p("YYYY.MM.DD")):"month"===o&&(!t.month.visibleWeeksCount||4<t.month.visibleWeeksCount)?r.push(p("YYYY.MM")):(r.push(moment(w.getDateRangeStart().getTime()).format("YYYY.MM.DD")),r.push(" ~ "),r.push(moment(w.getDateRangeEnd().getTime()).format(" MM.DD"))),e.innerHTML=r.join("")}function b(){w.clear(),function(e,t,o){M=[],S.forEach((function(n){var a=0,l=10;for("month"===e?l=3:"day"==e&&(l=4);a<l;a+=1)r(n,t,o)}))}(w.getViewName(),w.getDateRangeStart(),w.getDateRangeEnd()),w.createSchedules(M),m()}function k(e){return e.dataset?e.dataset.action:e.getAttribute("data-action")}var w,v,C,D,S=[],M=[],O=["milestone","task"];w=new tui.Calendar("#calendar",{defaultView:"week",useCreationPopup:!0,useDetailPopup:!0,calendars:S,template:{milestone:function(e){return'<span class="calendar-font-icon ic-milestone-b"></span> <span style="background-color: '+e.bgColor+'">'+e.title+"</span>"},allday:function(e){return l(e,!0)},time:function(e){return l(e,!1)}}}),w.on({clickMore:function(e){console.log("clickMore",e)},clickSchedule:function(e){console.log("clickSchedule",e)},clickDayname:function(e){console.log("clickDayname",e)},beforeCreateSchedule:function(e){console.log("beforeCreateSchedule",e),h(e)},beforeUpdateSchedule:function(e){var t=e.schedule,o=e.changes;console.log("beforeUpdateSchedule",e),o&&!o.isAllDay&&"allday"===t.category&&(o.category="time"),w.updateSchedule(t.id,t.calendarId,o),m()},beforeDeleteSchedule:function(e){console.log("beforeDeleteSchedule",e),w.deleteSchedule(e.schedule.id,e.schedule.calendarId)},afterRenderSchedule:function(e){e.schedule},clickTimezonesCollapseBtn:function(e){return console.log("timezonesCollapsed",e),e?w.setTheme({"week.daygridLeft.width":"77px","week.timegridLeft.width":"77px"}):w.setTheme({"week.daygridLeft.width":"60px","week.timegridLeft.width":"60px"}),!0}}),v=tui.util.throttle((function(){w.render()}),50),window.cal=w,function(){var e=document.getElementById("calendarList"),t=[],o=function(){var e,t=1,o=[],r=[{color:"#ffffff",bgColor:"#9e5fff",dragBgColor:"#9e5fff"},{color:"#ffffff",bgColor:"#00a9ff",dragBgColor:"#00a9ff"},{color:"#ffffff",bgColor:"#ff5583",dragBgColor:"#ff5583"}];return fetch("/iot/device/index").then((function(e){return e.json()})).then((function(a){Object.values(a.devices).forEach((function(a){(e=new n).id=t+"",e.name=a,e.color=r[t-1].color,e.bgColor=r[t-1].bgColor,e.dragBgColor=r[t-1].dragBgColor,e.borderColor=r[t-1].dragBgColor,o.push(e),t+=1}))})),o}();S=o,b(),f(),y(),$("#menu-navi").on("click",i),$('.dropdown-menu a[role="menuitem"]').on("click",c),$("#lnb-calendars").on("change",g),$("#btn-save-schedule").on("click",d),$("#btn-new-schedule").on("click",u),$("#dropdownMenu-calendars-list").on("click",s),window.addEventListener("resize",v),o.forEach((function(e){t.push('<div class="lnb-calendars-item"><label><input type="checkbox" class="tui-full-calendar-checkbox-round" value="'+e.id+'" checked><span style="border-color: '+e.borderColor+"; background-color: "+e.borderColor+';"></span><span>'+e.name+"</span></label></div>")})),e.innerHTML=t.join("\n")}()}))},905:(e,t,o)=>{"use strict";o.r(t)},2:(e,t,o)=>{"use strict";o.r(t)},662:(e,t,o)=>{"use strict";o.r(t)},438:(e,t,o)=>{"use strict";o.r(t)}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var a=o[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,e=[],r.O=(t,o,n,a)=>{if(!o){var l=1/0;for(s=0;s<e.length;s++){for(var[o,n,a]=e[s],c=!0,i=0;i<o.length;i++)(!1&a||l>=a)&&Object.keys(r.O).every((e=>r.O[e](o[i])))?o.splice(i--,1):(c=!1,a<l&&(l=a));if(c){e.splice(s--,1);var d=n();void 0!==d&&(t=d)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[o,n,a]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={370:0,268:0,849:0,61:0,120:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var n,a,[l,c,i]=o,d=0;if(l.some((t=>0!==e[t]))){for(n in c)r.o(c,n)&&(r.m[n]=c[n]);if(i)var s=i(r)}for(t&&t(o);d<l.length;d++)a=l[d],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(s)},o=self.webpackChunkyii2_iot24_meter=self.webpackChunkyii2_iot24_meter||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),r.O(void 0,[268,849,61,120],(()=>r(285))),r.O(void 0,[268,849,61,120],(()=>r(905))),r.O(void 0,[268,849,61,120],(()=>r(2))),r.O(void 0,[268,849,61,120],(()=>r(662)));var n=r.O(void 0,[268,849,61,120],(()=>r(438)));n=r.O(n)})();